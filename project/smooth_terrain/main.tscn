[gd_scene load_steps=13 format=3 uid="uid://d3yg8jlxa54m1"]

[ext_resource type="Script" uid="uid://beghwcxyaampl" path="res://smooth_terrain/terrain.gd" id="2_muprf"]
[ext_resource type="Shader" uid="uid://cuhrhqjasqqyn" path="res://smooth_terrain/transvoxel_terrain.gdshader" id="2_oexva"]
[ext_resource type="Script" uid="uid://iema3ac4rayl" path="res://smooth_terrain/players.gd" id="3_muprf"]
[ext_resource type="PackedScene" uid="uid://clwevfsvq22e8" path="res://smooth_terrain/multiplayer_menu.tscn" id="4_oexva"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_1vceu"]

[sub_resource type="Sky" id="1"]
sky_material = SubResource("PhysicalSkyMaterial_1vceu")

[sub_resource type="Environment" id="2"]
background_mode = 2
background_color = Color(1, 1, 1, 1)
sky = SubResource("1")
ambient_light_color = Color(0.521569, 0.560784, 0.592157, 1)
ambient_light_sky_contribution = 0.5
ambient_light_energy = 0.01
fog_enabled = true
fog_density = 0.0005
fog_aerial_perspective = 1.0
volumetric_fog_density = 0.005

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_muprf"]
load_path = "res://.godot/imported/dirt_albedo.png-1ea566b45deb8325a8458a1304e770f2.s3tc.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_0eih8"]
load_path = "res://.godot/imported/grass_albedo.png-daa10982e29958da33d5e57c02c43db6.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hlu6d"]
render_priority = 0
shader = ExtResource("2_oexva")
shader_parameter/u_transition_mask = 0
shader_parameter/u_voxel_virtual_texture_tile_size = 0
shader_parameter/u_voxel_virtual_texture_fade = 0.0
shader_parameter/u_voxel_cell_size = 0.0
shader_parameter/u_voxel_block_size = 0
shader_parameter/u_voxel_virtual_texture_offset_scale = Vector4(0, 0, 0, 0)
shader_parameter/u_lod_fade = Vector2(0, 0)
shader_parameter/u_texture_top = SubResource("CompressedTexture2D_0eih8")
shader_parameter/u_texture_sides = SubResource("CompressedTexture2D_muprf")

[sub_resource type="VoxelGeneratorFlat" id="VoxelGeneratorFlat_erh7w"]

[sub_resource type="VoxelMesherTransvoxel" id="VoxelMesherTransvoxel_7pt3m"]

[node name="Node" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("2")

[node name="DirectionalLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.912457, -0.352848, 0.207171, 0, 0.506317, 0.862348, -0.409172, -0.786855, 0.461992, 14.4885, 6.21497, 0)
shadow_enabled = true
shadow_bias = 0.2
directional_shadow_max_distance = 1000.0

[node name="terrain" type="VoxelTerrain" parent="."]
bounds = AABB(-512, -512, -512, 1024, 1024, 1024)
material_override = SubResource("ShaderMaterial_hlu6d")
block_enter_notification_enabled = true
area_edit_notification_enabled = true
generator = SubResource("VoxelGeneratorFlat_erh7w")
mesher = SubResource("VoxelMesherTransvoxel_7pt3m")
unique_name_in_owner = true
script = ExtResource("2_muprf")

[node name="VoxelTerrainMultiplayerSynchronizer" type="VoxelTerrainMultiplayerSynchronizer" parent="terrain"]

[node name="players" type="Node3D" parent="."]
unique_name_in_owner = true
script = ExtResource("3_muprf")

[node name="MarginContainer" type="MarginContainer" parent="."]
z_index = 100
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -66.0
offset_right = 305.0
grow_vertical = 0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="multiplayer_menu" parent="MarginContainer" instance=ExtResource("4_oexva")]
layout_mode = 2
